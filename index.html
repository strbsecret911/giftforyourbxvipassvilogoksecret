<!doctype html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Pembuat Kupon TPG</title>

<style>
:root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; }
body { margin:0; background:#0b1220; color:#e8eefc; }
.wrap { max-width:1100px; margin:auto; padding:24px 16px 60px; }
.card { background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); border-radius:18px; padding:18px; }

h1 { margin:0 0 8px; font-size:22px; }
p { margin:0 0 14px; color:rgba(232,238,252,.8); }

label { font-size:13px; color:rgba(232,238,252,.75); margin-top:10px; display:block; }

input, select {
  width:100%; padding:12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(0,0,0,.25);
  color:#e8eefc;
}

.grid { display:grid; gap:14px; }
@media(min-width:860px){ .grid{grid-template-columns:1fr 1fr;} }

.btnrow { display:flex; gap:10px; margin-top:14px; flex-wrap:wrap; }
button {
  border:0; cursor:pointer;
  padding:11px 16px;
  border-radius:12px;
  font-weight:800;
}
.primary { background:#4c8dff; color:#081024; }
.ghost { background:rgba(255,255,255,.1); color:#e8eefc; border:1px solid rgba(255,255,255,.15); }

.out { margin-top:18px; display:none; }
.row { display:grid; gap:14px; }
@media(min-width:960px){ .row{grid-template-columns:1.2fr .8fr;} }

.previewCard {
  background:rgba(0,0,0,.18);
  border:1px solid rgba(255,255,255,.12);
  border-radius:16px;
  padding:12px;
}

canvas {
  width:100%;
  height:auto;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
}

textarea {
  width:100%; min-height:160px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(0,0,0,.25);
  color:#e8eefc;
  padding:12px;
  font-family:monospace;
}
</style>
</head>

<body>
<div class="wrap">
<div class="card">

<h1>Pembuat Kupon TPG</h1>
<p>Buat kupon bergambar untuk dikirim via Telegram (private chat).</p>

<div class="grid">
  <div>
    <label>Telegram Sender</label>
    <input id="sender" placeholder="tanpa @" />
  </div>
  <div>
    <label>Telegram Receiver</label>
    <input id="receiver" placeholder="tanpa @" />
  </div>
</div>

<div class="grid">
  <div>
    <label>Nominal Hadiah</label>
    <input id="nominal" placeholder="contoh: 50k" />
  </div>
  <div>
    <label>Kode Klaim (custom)</label>
    <input id="code" placeholder="contoh: TPG-1234-FREE" />
  </div>
</div>

<div class="grid">
  <div>
    <label>Design</label>
    <select id="theme">
      <option value="purple">Purple</option>
      <option value="blue">Blue</option>
      <option value="flower">ðŸŒ¸ Flower</option>
    </select>
  </div>
  <div>
    <label>Layout</label>
    <select id="layout">
      <option value="classic">Classic</option>
      <option value="ticket">Ticket</option>
      <option value="minimal">Minimal</option>
    </select>
  </div>
</div>

<div class="btnrow">
  <button class="primary" id="generate">Buat Kupon</button>
  <button class="ghost" id="reset">Reset</button>
</div>

<div class="out" id="output">
<div class="row">

<div class="previewCard">
<canvas id="canvas" width="1200" height="700"></canvas>
<div class="btnrow">
  <button class="primary" id="download">Download PNG</button>
  <button class="ghost" id="copy">Copy Kode</button>
</div>
</div>

<div class="previewCard">
<textarea id="text" readonly></textarea>
</div>

</div>
</div>

</div>
</div>

<script>
const THEMES = {
 purple:{bg1:"#1D1A2D",bg2:"#564D84",accent:"#948FB8",paper:"#F0EFF6",ink:"#1D1A2D"},
 blue:{bg1:"#142233",bg2:"#2F4E75",accent:"#497AB6",paper:"#EDF2F8",ink:"#142233"},
 flower:{bg1:"#C5D5E8",bg2:"#E8C5D5",accent:"#D5E8C5",paper:"#FFFFFF",ink:"#243047"}
};

const $=id=>document.getElementById(id);

function draw(data){
 const c=$("canvas"),ctx=c.getContext("2d");
 const t=THEMES[data.theme];
 ctx.clearRect(0,0,c.width,c.height);

 let g=ctx.createLinearGradient(0,0,c.width,c.height);
 g.addColorStop(0,t.bg1); g.addColorStop(1,t.bg2);
 ctx.fillStyle=g; ctx.fillRect(0,0,c.width,c.height);

 ctx.fillStyle=t.paper;
 ctx.roundRect(60,60,c.width-120,c.height-120,26); ctx.fill();

 ctx.fillStyle=t.accent; ctx.globalAlpha=.25;
 ctx.roundRect(60,60,c.width-120,120,26); ctx.fill();
 ctx.globalAlpha=1;

 ctx.fillStyle=t.ink;
 ctx.font="900 46px system-ui";
 ctx.fillText("KUPON HADIAH TPG",96,135);

 ctx.font="900 56px monospace";
 ctx.fillText(data.code,96,280);

 ctx.font="700 26px system-ui";
 ctx.fillText("Sender   : @"+data.sender,96,360);
 ctx.fillText("Receiver : @"+data.receiver,96,400);
 ctx.fillText("Nominal  : "+data.nominal,96,440);

 ctx.font="600 18px system-ui";
 ctx.fillText("Gunakan kode klaim ini untuk claim ke bot.",96,500);
}

$("generate").onclick=()=>{
 const d={
  sender:$("sender").value.trim(),
  receiver:$("receiver").value.trim(),
  nominal:$("nominal").value.trim(),
  code:$("code").value.trim().toUpperCase(),
  theme:$("theme").value
 };
 if(!d.sender||!d.receiver||!d.nominal||!d.code) return;
 $("output").style.display="block";
 draw(d);
 $("text").value=
`ðŸŽŸï¸ KUPON HADIAH TPG
Kode Klaim: ${d.code}

Sender   : @${d.sender}
Receiver : @${d.receiver}
Nominal  : ${d.nominal}

Receiver klaim ke bot menggunakan kode di atas.`;
};

$("download").onclick=()=>{
 const a=document.createElement("a");
 a.href=$("canvas").toDataURL("image/png");
 a.download=$("code").value+".png";
 a.click();
};

$("copy").onclick=()=>navigator.clipboard.writeText($("code").value);

$("reset").onclick=()=>location.reload();
</script>
</body>
</html>
